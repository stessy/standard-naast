<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">
	<p:dataTable id="memberAbonnementsTable" var="abonnement" value="#{memberAbonnement.abonnements}" paginator="true" rows="5" tableStyle="width:98%" selectionMode="single" selection="#{memberAbonnement.selectedAbonnement}" rowKey="#{abonnement}"
		emptyMessage="#{messages['NO.ABONNEMENT']}" paginatorPosition="bottom">
		<p:ajax event="rowSelect" update="@([id$=editAbonnementButton])" listener="#{memberAbonnement.onRowSelect}" />
		<p:column headerText="#{messages['SAISON']}">
			<h:outputText value="#{abonnement.saison.id}" />
		</p:column>
		<p:column headerText="#{messages['BLOC']}">
			<h:outputText value="#{abonnement.blocId.blocValue}" />
		</p:column>
		<p:column headerText="#{messages['RANG']}">
			<h:outputText value="#{abonnement.rang}" />
		</p:column>
		<p:column headerText="#{messages['PLACE']}">
			<h:outputText value="#{abonnement.place}" />
		</p:column>
		<p:column headerText="#{messages['REDUCTION']}">
			<h:outputText value="#{abonnement.reduction}" />
		</p:column>
		<p:column headerText="#{messages['ACOMPTE']}">
			<h:outputText value="#{abonnement.acompte}" />
		</p:column>
		<p:column headerText="#{messages['PAYE']}">
			<p:selectBooleanCheckbox value="#{abonnement.paye}" />
		</p:column>
		<p:column headerText="#{messages['STATUS']}">
			<h:outputText value="#{messages[abonnement.abonnementStatus]}" />
		</p:column>
		<f:facet name="footer">
			<p:row>
				<p:column colspan="8">
					<p:commandButton type="submit" value="#{messages['AJOUTER.ABONNEMENT']}" id="addAbonnementButton" icon="ui-icon-check" style="margin:5px;" />
					<p:commandButton type="submit" value="#{messages['MODIFIER.ABONNEMENT']}" id="editAbonnementButton" icon="ui-icon-document" style="margin:5px;" disabled="#{!memberAbonnement.rowSelected}" />
				</p:column>
			</p:row>
		</f:facet>
	</p:dataTable>
</ui:composition>
